function locateMe(){var e={timeout:3e4};watchID=navigator.geolocation.getCurrentPosition(onGeoSuccess,onGeoError,e)}function onGeoSuccess(e){$("input[name='lat']").val(e.coords.latitude),$("input[name='long']").val(e.coords.longitude)}function onGeoError(e){console.log("code: "+e.code+"\nmessage: "+e.message+"\n")}function formToJSON(e){var t={};return $(e).find(":input[name]:enabled").each(function(){var e=$(this),a=e.attr("name");t[a]=t[a]?t[a]+","+e.val():e.val()}),t}function getData(e){switch(e){case"home":break;case"create":$("input[name='request']").val("new_post"),locateMe();var t=formToJSON("#form");break;case"notifications":$("input[name='request']").val("");break;case"settings":$("input[name='request']").val("")}return data}var app={initialize:function(){this.bindEvents()},bindEvents:function(){document.addEventListener("deviceready",this.onDeviceReady,!1)},onDeviceReady:function(){app.receivedEvent("deviceready")},receivedEvent:function(e){var t=document.getElementById(e),a=t.querySelector(".listening"),n=t.querySelector(".received");a.setAttribute("style","display:none;"),n.setAttribute("style","display:block;"),console.log("Received Event: "+e)}};Handlebars.registerHelper("each",function(e,t){for(var a="",n=0,o=e.length;o>n;n++)a+=t.fn(e[n]);return a}),$(document).ready(function(){localStorage.getItem("userToken")&&($("input[name='auth_token']").val(localStorage.getItem("userToken")),$("input[name='handle']").val(localStorage.getItem("userHandle")))});var MODEL_METHOD={loadPostsNearMe:function(){$("input[name='request']").val("posts_near_me"),locateMe();var e=formToJSON("#form");$.ajax({url:"http://gobeebot.com/test.php",method:"POST",data:e,success:this.handlerData})}},source=$("#home").html(),template=Handlebars.compile(source),data=getData("home");$("#content-placeholder").html(template(data)),$("nav a").click(function(){$("nav a").removeClass("active"),$(this).addClass("active");var e=$(this).attr("name"),t=$("#"+e).html(),a=Handlebars.compile(t),n=getData(e);$("#content-placeholder").html(a(n))});